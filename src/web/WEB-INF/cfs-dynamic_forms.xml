<application>
  <!-- Add or Modify a Survey Form -->
  <form name="survey" 
        action="CampaignManagerSurvey.do?command=Insert&amp;auto-populate=true" 
        cancel="CampaignManagerSurvey.do?command=ViewReturn&amp;auto-populate=true" 
        returnLinkText="Communications Manager &gt; &lt;a href=&quot;CampaignManagerAttachment.do&quot;&gt;Create Attachments&lt;/a&gt; &gt; &lt;a href=&quot;CampaignManagerSurvey.do?command=View&quot;&gt;Surveys&lt;/a&gt; &gt; Survey Details&lt;hr color=&quot;#BFBFBB&quot; noshade&gt;" 
        scripts="survey.js^popURL.js"> 
    <button text="Save" link="CampaignManagerSurvey.do?command=Insert&amp;auto-populate=true"/>
    <tab id="0" name="Page 1" defaultField="name">
      <buttonGroup> <!-- TODO: add header & footer attribs !-->
        <button type="2" name="prev" display="&lt; Back" enabled="no"/>
        <button type="2" name="Next" display="Next &gt;" onclick="javascript:this.form.clickFrom.value='next';this.form.action='CampaignManagerSurvey.do?command=Modify&amp;auto-populate=true&amp;pg=1';"/>
      </buttonGroup>
      <group name="Survey Details">
          <row elementClass="containerBody">
             <column width="125" valign="top" elementClass="formLabel">
              <field name="namelabel" display="Name" type="label"/>
             </column>
             <column valign="top">
              <field name="name" display="Name" type="text" parameters="size=50^maxlength=80" required="true"/>
             </column>
          </row>
          <row elementClass="containerBody">
             <column width="125" valign="top" elementClass="formLabel">
              <field name="descriptionlabel" display="Description" type="label"/>
             </column>
             <column valign="top">
              <field name="description" display="Description" type="text" parameters="size=50^maxlength=80"/>
             </column>
          </row>
          <row elementClass="containerBody">
             <column width="125" valign="top" elementClass="formLabel">
              <field name="introlabel" display="Introduction Text" type="label"/>
             </column>
             <column>
              <field name="intro" display="Introduction text" type="textarea" parameters="rows=6^columns=40"/>
            </column>
          </row>
          <row type="hidden">
            <column type="hidden">
              <field name="id" display="id" type="hidden"/>
              <field name="modified" display="modified" type="hidden"/>
            </column>
          </row>
      </group>
    </tab>
    <tab id="1" name="Page 2">
      <buttonGroup> <!-- TODO: add header & footer attribs !-->
        <button type="2" name="prev" display="&lt; Back" enabled="yes" onclick="javascript:this.form.clickFrom.value='back';this.form.action='CampaignManagerSurvey.do?command=Add&amp;auto-populate=true'"/>
        <button type="2" name="Next" display="Next &gt;" onclick="javascript:this.form.clickFrom.value='next';this.form.action='CampaignManagerSurvey.do?command=Add&amp;auto-populate=true&amp;pg=2';"/>
      </buttonGroup>
      <group name="Survey Questions">
        <row multiple="true" listName="questions" listId="id"> <!-- listName is the method called on the parent object which holds the list i.e "getQuestions" method called on Survey and  listId is the id which seperates the list i.e "id" in case of SurveyQuestion!-->
           <column width="8%">
            <field name="itemEditButton" display="Edit" type="button" jsEvent="CampaignManagerSurvey.do?command=Modify&amp;id=" dynamicAttr="jsEvent"/>
            <field name="itemDelButton" display="Del" type="button" jsEvent="CampaignManagerSurvey.do?command=Delete&amp;id=" dynamicAttr="jsEvent"/>
           </column>
           <column>
              <field name="description" type="displaytext"/>
           </column>
        </row>
        <row type="hidden">
            <column type="hidden">
              <field name="intro" display="id" type="hidden"/>
             <field name="description" display="id" type="hidden"/>
             <field name="name" display="id" type="hidden"/>
            </column>
        </row>
      </group>
    </tab>
    <tab id="2" name="Page 3">
      <buttonGroup> <!-- TODO: add header & footer attribs  ; also add type of button i.e submit/button !-->
        <button type="2" name="prev" display="&lt; Back"      onclick="javascript:this.form.clickFrom.value='back';this.form.action='CampaignManagerSurvey.do?command=Add&amp;auto-populate=true&amp;pg=1'"/>
        <button type="2" name="next" display="Next &gt;" onclick="javascript:this.form.clickFrom.value='next';this.form.action='CampaignManagerSurvey.do?command=Add&amp;auto-populate=true&amp;pg=1';"/>
      </buttonGroup>
      <group name="Add Question">
        <row elementClass="containerBody">
            <column width="125" valign="top" elementClass="formLabel">
              <field name="questionlabel" display="Question" type="label"/>
            </column>
            <column valign="top">
              <field name="questiontext" display="Question" type="text" required="true"/>
            </column>
        </row>
        <row elementClass="containerBody">
            <column width="125" valign="top" elementClass="formLabel">
              <field name="itemlabel" display="Type" type="label"/>
            </column>
            <column valign="top">
              <field name="type" display="Type" type="select" lookupList="Open-Ended^Quantitative (no comments)^Quantitative (with comments)^Item List" required="true" onChange="javascript:processButton('survey',document.forms['survey'].type.selectedIndex);"/>
              <field name="itemsButton" display="Edit Items" type="button" jsEvent="javascript:popItems(document.forms['survey'].questionid.value,document.forms['survey'].items.value);" enabled="no"/>
            </column>
        </row>
        <row elementClass="containerBody">
           <column width="125" valign="top" elementClass="formLabel">
              <field name="requiredlabel" display="Requried" type="label"/>
            </column>
           <column valign="top">
            <field name="required" display="Required" type="checkbox"/>
           </column>
        </row>
        <row type="hidden">
            <column type="hidden">
             <field name="questionid" display="questionid" type="hidden"/>
             <field name="items" display="addeditems" type="hidden"/>
             <field name="intro" display="addeditems" type="hidden"/>
             <field name="description" display="addeditems" type="hidden"/>
             <field name="name" display="addeditems" type="hidden"/>
            </column>
        </row>
      </group>
    </tab>
  </form>
  
  <!-- View Survey Details -->
  <form name="surveydetails" 
        action="CampaignManagerSurvey.do?command=Insert&amp;auto-populate=true" 
        returnLinkText="Communications Manager &gt; &lt;a href=&quot;CampaignManagerAttachment.do&quot;&gt;Create Attachments&lt;/a&gt; &gt; &lt;a href=&quot;CampaignManagerSurvey.do?command=View&quot;&gt;Surveys&lt;/a&gt; &gt; Survey Details&lt;hr color=&quot;#BFBFBB&quot; noshade&gt;">
    <button text="Modify" link="CampaignManagerSurvey.do?command=Modify&amp;auto-populate=true"/>
    <button text="Delete Survey" link="CampaignManagerSurvey.do?command=Delete&amp;auto-populate=true"/>
    <button text="Preview" link="CampaignManagerSurvey.do?command=Preview&amp;auto-populate=true"/>
    <tab name="Page 1" id="0">
      <group name="Survey Details">
        <field name="name" display="Name" type="displaytext"/>
        <field name="description" display="Description" type="displaytext"/>
        <field name="typeName" display="Type" type="displaytext"/>
        <field name="itemLength" display="Number of Items" type="displaytext"/>
        <field name="enteredBy" display="Entered By" type="lookupUserId"/>
        <field name="enteredDateTimeString" display="Date" type="displaytext"/>
        <field name="modifiedBy" display="Last Modified By" type="lookupUserId"/>
        <field name="modifiedDateTimeString" display="Date" type="displaytext"/>
        <field name="id" display="id" type="hidden"/>
        <field name="modified" display="modified" type="hidden"/>
      </group>
      <group name="Survey Introduction Text">
        <field name="intro" display="" type="displaytext"/>
      </group>
      <group name="Survey Questions">
        <field name="questions" display="Question" type="displayRowlist"/>
      </group>
    </tab>
  </form>
  
  <!-- See a stand-alone Preview of the survey -->
  <form name="surveypreview" 
        returnLinkText="Communications Manager &gt; &lt;a href=&quot;CampaignManagerAttachment.do&quot;&gt;Create Attachments&lt;/a&gt; &gt; &lt;a href=&quot;CampaignManagerSurvey.do?command=View&quot;&gt;Surveys&lt;/a&gt; &gt; Survey Details &gt; Preview&lt;hr color=&quot;#BFBFBB&quot; noshade&gt;">
    <button text="Back to Details" link="CampaignManagerSurvey.do?command=Details&amp;auto-populate=true"/>
    <tab name="Page 1" id="0">
      <group name="Survey Preview">
        <field name="intro" type="displaytext"/>
        <field name="questions" type="displayrowlist" lengthVar="itemLength"/>
        <field name="id" display="id" type="hidden"/>
        <field name="modified" display="modified" type="hidden"/>
      </group>
    </tab>
  </form>
  
  <!-- Actual survey that is taken by user -->
  <form name="surveyview" 
        action="ProcessSurvey.do?command=Insert&amp;auto-populate=true">
    <tab name="Page 1" id="0">
      <group name="Survey Preview">
        <field name="intro" type="displaytext"/>
        <field name="questions" type="displayrowlist" lengthVar="itemLength"/>
      </group>
    </tab>
  </form>
  
</application>

